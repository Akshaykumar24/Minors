const data = [
  {
    first_name: "Carol-jean",
    last_name: "Esmonde",
  },
  {
    first_name: "Kitty",
    last_name: "Heed",
  },
  {
    first_name: "Gerardo",
    last_name: "Champkin",
  },
  {
    first_name: "Koressa",
    last_name: "Bertholin",
  },
  {
    first_name: "Jourdain",
    last_name: "Covotto",
  },
  {
    first_name: "Vern",
    last_name: "Bogace",
  },
  {
    first_name: "Donelle",
    last_name: "Accombe",
  },
  {
    first_name: "Jacklyn",
    last_name: "Baudou",
  },
  {
    first_name: "Gregorio",
    last_name: "Chattington",
  },
  {
    first_name: "Corrinne",
    last_name: "Ortelt",
  },
  {
    first_name: "Theadora",
    last_name: "Padson",
  },
  {
    first_name: "Norton",
    last_name: "Wathen",
  },
  {
    first_name: "Marline",
    last_name: "Townes",
  },
  {
    first_name: "Bronson",
    last_name: "Jeaneau",
  },
  {
    first_name: "Tomi",
    last_name: "Drakes",
  },
  {
    first_name: "Kaila",
    last_name: "Trayte",
  },
  {
    first_name: "Aloysia",
    last_name: "Tweedell",
  },
  {
    first_name: "Morganica",
    last_name: "Yardley",
  },
  {
    first_name: "Ransell",
    last_name: "Champain",
  },
  {
    first_name: "Bessie",
    last_name: "Morford",
  },
  {
    first_name: "Tamas",
    last_name: "Autin",
  },
  {
    first_name: "Colene",
    last_name: "Kikke",
  },
  {
    first_name: "Carver",
    last_name: "Lewisham",
  },
  {
    first_name: "Basilio",
    last_name: "Tayler",
  },
  {
    first_name: "Brigitte",
    last_name: "Davana",
  },
  {
    first_name: "Gerianna",
    last_name: "Dur",
  },
  {
    first_name: "Florette",
    last_name: "Biscomb",
  },
  {
    first_name: "Kendre",
    last_name: "Skinn",
  },
  {
    first_name: "Carlina",
    last_name: "Imlen",
  },
  {
    first_name: "Solomon",
    last_name: "Lelande",
  },
  {
    first_name: "Sally",
    last_name: "Pawelczyk",
  },
  {
    first_name: "Keely",
    last_name: "Sturdy",
  },
  {
    first_name: "Florida",
    last_name: "Elsay",
  },
  {
    first_name: "Steven",
    last_name: "Milton-White",
  },
  {
    first_name: "Joyce",
    last_name: "Quarmby",
  },
  {
    first_name: "Freeland",
    last_name: "Fodden",
  },
  {
    first_name: "Hagen",
    last_name: "Gagin",
  },
  {
    first_name: "Mac",
    last_name: "Sadgrove",
  },
  {
    first_name: "Peggi",
    last_name: "Sadler",
  },
  {
    first_name: "Kass",
    last_name: "Lobb",
  },
  {
    first_name: "Brannon",
    last_name: "Asche",
  },
  {
    first_name: "Orsola",
    last_name: "Dearn",
  },
  {
    first_name: "Andree",
    last_name: "Bangley",
  },
  {
    first_name: "Margery",
    last_name: "Cutmore",
  },
  {
    first_name: "Noll",
    last_name: "Cary",
  },
  {
    first_name: "Cazzie",
    last_name: "Gonnelly",
  },
  {
    first_name: "Puff",
    last_name: "Prince",
  },
  {
    first_name: "Terrance",
    last_name: "Philippe",
  },
  {
    first_name: "Kare",
    last_name: "Ingle",
  },
  {
    first_name: "Evaleen",
    last_name: "Domingues",
  },
  {
    first_name: "Mort",
    last_name: "Keslake",
  },
  {
    first_name: "Arabel",
    last_name: "Keiling",
  },
  {
    first_name: "Page",
    last_name: "Geram",
  },
  {
    first_name: "Osbert",
    last_name: "Greenland",
  },
  {
    first_name: "Carlo",
    last_name: "Proudman",
  },
  {
    first_name: "Ulysses",
    last_name: "Dreakin",
  },
  {
    first_name: "Lorilyn",
    last_name: "Dillaway",
  },
  {
    first_name: "Geri",
    last_name: "Orrah",
  },
  {
    first_name: "Kippie",
    last_name: "Clampe",
  },
  {
    first_name: "Jocelyn",
    last_name: "Lehenmann",
  },
  {
    first_name: "Aline",
    last_name: "Haylett",
  },
  {
    first_name: "Margit",
    last_name: "Yong",
  },
  {
    first_name: "Erinn",
    last_name: "Wakes",
  },
  {
    first_name: "Donna",
    last_name: "McDarmid",
  },
  {
    first_name: "Brunhilde",
    last_name: "Westcot",
  },
  {
    first_name: "Gaby",
    last_name: "Pezey",
  },
  {
    first_name: "Harmon",
    last_name: "Maclaine",
  },
  {
    first_name: "Maximilien",
    last_name: "Georgelin",
  },
  {
    first_name: "Zaccaria",
    last_name: "Leadbetter",
  },
  {
    first_name: "Dasie",
    last_name: "Cervantes",
  },
  {
    first_name: "Ezequiel",
    last_name: "Girardini",
  },
  {
    first_name: "Ramona",
    last_name: "Burnsides",
  },
  {
    first_name: "Shandra",
    last_name: "Shayler",
  },
  {
    first_name: "Cynde",
    last_name: "Spain",
  },
  {
    first_name: "Connie",
    last_name: "Dolden",
  },
  {
    first_name: "Hugues",
    last_name: "Desborough",
  },
  {
    first_name: "Cass",
    last_name: "Tallboy",
  },
  {
    first_name: "Kennan",
    last_name: "Garratt",
  },
  {
    first_name: "Ricardo",
    last_name: "Tohill",
  },
  {
    first_name: "Candis",
    last_name: "Meatyard",
  },
  {
    first_name: "Bianka",
    last_name: "Pettendrich",
  },
  {
    first_name: "Jenni",
    last_name: "Guidini",
  },
  {
    first_name: "Cherin",
    last_name: "Innott",
  },
  {
    first_name: "Auberta",
    last_name: "Stenbridge",
  },
  {
    first_name: "Cullen",
    last_name: "Swafield",
  },
  {
    first_name: "Horace",
    last_name: "Meriet",
  },
  {
    first_name: "Evonne",
    last_name: "Crisall",
  },
  {
    first_name: "Samara",
    last_name: "Bassingden",
  },
  {
    first_name: "Sarena",
    last_name: "Whybray",
  },
  {
    first_name: "Griffin",
    last_name: "Tropman",
  },
  {
    first_name: "Nilson",
    last_name: "Westfalen",
  },
  {
    first_name: "Dianemarie",
    last_name: "Brammer",
  },
  {
    first_name: "Ber",
    last_name: "Garlett",
  },
  {
    first_name: "Tracey",
    last_name: "Hanscombe",
  },
  {
    first_name: "Blinnie",
    last_name: "Philippon",
  },
  {
    first_name: "Venita",
    last_name: "Eltone",
  },
  {
    first_name: "Ravi",
    last_name: "Kuna",
  },
  {
    first_name: "Andie",
    last_name: "Drinkel",
  },
  {
    first_name: "Phillip",
    last_name: "Miskelly",
  },
  {
    first_name: "Ebba",
    last_name: "Cheng",
  },
];

let c = 0;
console.log(data[0]);
console.log(data.length);

function added(data1, init = 0) {
  let container = document.getElementById("container");
  for (let i = init; i < init + 20; i++) {
    if (data1[i]) {
      c++;
      //let ran = Math.floor(Math.random() * 100);
      let div = document.createElement("div");
      let h2 = document.createElement("h2");
      //   console.log(data1[i]);
      h2.innerText = c + " " + data1[i].first_name + " " + data1[i].last_name;
      div.append(h2);
      container.append(div);
    }
  }
}

added(data);

function search(a) {
  console.log(a);
  let container = document.getElementById("container");

  var made = [];
  data.forEach((h) => {
    //h.first_name.split("").includes(a) || h.last_name.split("").includes(a);

    let d = h.first_name?.split("");
    let e = h.last_name?.split("");
    let po = 0;
    for (let i = 0; i < a.length; i++) {
      if (d.includes(a[i])) {
        po++;
      }
      if (e.includes(a[i])) {
        po++;
      }
    }
    //console.log(po, a);
    if (po === a.length) made.push(h);
  });
  container.innerHTML = "";
  added(made);
}

document.getElementById("search").addEventListener("click", () => {
  let input = document.getElementById("query").value;
  search(input);
});

window.addEventListener("scroll", () => {
  if (
    // document.body.scrollTop,
    // document.body.clientHeight,
    // document.body.scrollHeight,
    // document.body.getBoundingClientRect(),
    //document.body.getClientRects()
    window.scrollY + window.innerHeight >=
    document.documentElement.scrollHeight - 10
  ) {
    added(data, c);
  }
});
